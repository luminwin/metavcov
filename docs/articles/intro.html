<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>An Introduction to metavcov • Variance-Covariance Matrix for Multivariate Meta-Analysis with metavcov</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="An Introduction to metavcov">
<meta property="og:description" content="this package">
<meta property="og:image" content="https://github.com/luminwin/metavcov/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-WZWXVK817Z"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-WZWXVK817Z');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Variance-Covariance Matrix for Multivariate Meta-Analysis with metavcov</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Development version">2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/intro.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/intro.html">Introduction</a>
    </li>
    <li>
      <a href="../articles/intro.html#correlation-1">Correlation</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Manual</a>
</li>
<li>
  <a href="https://github.com/luminwin/metavcov/issues">Bug Reporting</a>
</li>
<li>
  <a href="https://github.com/luminwin/metavcov/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
    GitHub
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="intro_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>An Introduction to metavcov</h1>
                        <h4 class="author"><a href="https://luminwin.github.io/Lu/articles/cv.html">Min Lu</a></h4>
            
            <h4 class="date">2021-08-25</h4>
      
      
      <div class="hidden name"><code>intro.Rmd</code></div>

    </div>

    
    
<style>
p.comment {
background-color: #DBDBDB;
padding: 10px;
border: 1px solid black;
margin-left: 0px;
font-family: sans-serif;
font-style: calibri-light;
border-radius: 5px;
font-size: 16px;
}
</style>
<p>Multivariate meta-analysis handles within-study dependence among effect sizes caused by the fact that multiple effect sizes were obtained from the same participants in the primary studies. This dependence could increase Type I error rate and lead to inaccurate estimates of study effects. However, multivariate meta-analysis is not popular in practice because it is difficult to computer the covariances among effect size, especially when the types of effect sizes are different. The package metavcov aims to provide a useful tool, <code>metavcov</code> <span class="citation">(Lu 2021)</span>, for conducting multivariate meta-analysis with examples in R on how to perform multivariate meta-analysis of effect sizes. Effect sizes include correlation (r), mean difference (MD), standardized mean difference (SMD), log odds ratio (logOR), log risk ratio (logRR), and risk difference (RD). The package <code>metavcov</code> is listed under the section “Preparing for meta-analysis” in <a href="https://cran.r-project.org/web/views/MetaAnalysis.html">CRAN Task View: Meta-Analysis</a> by <span class="citation">Dewey (2021)</span>.</p>
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p>The R package <a href="https://cran.r-project.org/web/packages/metavcov/index.html">metavcov</a> facilitates multivariate meta-analysis via computing variance-covariance matrix among effect sizes including correlation (r, <code><a href="../reference/r.vcov.html">r.vcov()</a></code>), mean difference (MD, <code><a href="../reference/md.vcov.html">md.vcov()</a></code>), standardized mean difference (SMD, <code><a href="../reference/smd.vcov.html">smd.vcov()</a></code>), log odds ratio (logOR, <code><a href="../reference/lgOR.vcov.html">lgOR.vcov()</a></code>), log risk ratio (logRR, <code><a href="../reference/lgRR.vcov.html">lgRR.vcov()</a></code>), and risk difference (RD, <code><a href="../reference/rd.vcov.html">rd.vcov()</a></code>), as well as variance-covariance matrix among different types of effect sizes, such as covariance between log odds ratio and risk difference, <code><a href="../reference/lgor_rd.html">lgor_rd()</a></code>. All functions are shown in <a href="#figure-1">Figure 1</a>.</p>
<div id="figure-1" class="section level5">
<h5 class="hasAnchor">
<a href="#figure-1" class="anchor"></a>Figure 1</h5>
<center>
<img src="model6.png" title="fig:" style="width:60.0%" alt="Typical situations for different models.">
</center>
</div>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>Like many other R packages, the simplest way to obtain <code>metavcov</code> is to install it directly from CRAN via typing the following command in R console:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"metavcov"</span>, repos <span class="op">=</span> <span class="st">"https://cran.us.r-project.org"</span><span class="op">)</span></code></pre></div>
<p>For more details, see <code><a href="https://rdrr.io/r/utils/install.packages.html">help(install.packages)</a></code>. Alternatively, users can download the package source from <a href="https://cran.r-project.org/web/packages/metavcov/index.html">CRAN</a> and type Unix commands:</p>
<p><code>ant source-cran</code></p>
<p>will create the R source code package directory-tree <code>./target/cran/metavcov/</code>. To install metavcov in your default library, change to the directory <code>./target/cran/</code> and type</p>
<p><code>R CMD INSTALL --preclean --clean metavcov</code></p>
</div>
<div id="citation" class="section level2">
<h2 class="hasAnchor">
<a href="#citation" class="anchor"></a>Citation</h2>
<p>To cite the R package <a href="https://cran.r-project.org/web/packages/metavcov/index.html">metavcov</a> <span class="citation">(Lu 2021)</span> in R <span class="citation">(R Core Team 2020)</span>, users can run the following code in R console:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="kw">citation</span>(<span class="st">"metavcov"</span>)</span>
<span id="cb2-2"><a href="#cb2-2"></a> </span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="op">&gt;</span><span class="st"> </span>To cite metavcov <span class="cf">in</span> publications use<span class="op">:</span></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="er">&gt;</span><span class="st"> </span></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="er">&gt;</span><span class="st">   </span>Lu <span class="kw">M.</span> (<span class="dv">2021</span>). Variance<span class="op">-</span>Covariance Matrix <span class="cf">for</span> Multivariate</span>
<span id="cb2-6"><a href="#cb2-6"></a><span class="op">&gt;</span><span class="st">   </span>Meta<span class="op">-</span>Analysis, R package version <span class="dv">2</span>.<span class="fl">1.</span></span></code></pre></div>
<p>Users can run <code><a href="https://rdrr.io/r/utils/toLatex.html">toBibtex(citation("metavcov"))</a></code> for .bib file and <code><a href="https://rdrr.io/r/utils/citation.html">citation("base")</a></code> for citing the R software.</p>
</div>
<div id="quick-start" class="section level2">
<h2 class="hasAnchor">
<a href="#quick-start" class="anchor"></a>Quick Start</h2>
<p>In this vignette, we will provide a general sense of the package. We will briefly go over the main functions and outputs using correlation effect sizes.</p>
<p>First, Let’s load the <code>metavcov</code> package:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/luminwin/metavcov">"metavcov"</a></span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">Craft2003</span><span class="op">)</span>
  <span class="co">#extract correlation from the dataset (craft)</span>
  <span class="va">corflat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html">subset</a></span><span class="op">(</span><span class="va">Craft2003</span>, select<span class="op">=</span><span class="va">C1</span><span class="op">:</span><span class="va">C6</span><span class="op">)</span>
  <span class="co"># transform correlations to z and compute variance-covariance matrix.</span>
  <span class="va">computvocv</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/r.vcov.html">r.vcov</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">Craft2003</span><span class="op">$</span><span class="va">N</span>, corflat <span class="op">=</span> <span class="va">corflat</span>, method <span class="op">=</span> <span class="st">"average"</span><span class="op">)</span>
  <span class="co"># name transformed z scores as an input</span>
  <span class="va">Input</span> <span class="op">&lt;-</span> <span class="va">computvocv</span><span class="op">$</span><span class="va">zr</span>
  <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">Input</span><span class="op">)</span></code></pre></div>
<pre><code>&gt;          C1         C2         C3          C4          C5          C6
&gt; 1 0.2447741 -0.4236489 -0.3540925 -0.17166666  0.08017133  0.21317135
&gt; 2 0.4476920 -0.4476920 -0.5229843 -0.08017133  0.17166666 -0.12058103
&gt; 3 0.3428283 -0.1923372 -0.6776661 -0.14092558 -0.11044692  0.09024419
&gt; 4 0.2152645 -0.6098195 -0.4611242 -0.41297996 -0.16755048  0.19337483
&gt; 5 0.5100703 -0.3884231 -0.5493061  0.10033535  0.32054541 -0.17166666
&gt; 6 0.8107431 -0.3768859 -0.9076450 -0.15114044 -0.42364893  0.36544375</code></pre>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R">  <span class="co"># name variance-covariance matrix of trnasformed z scores as covars</span>
  <span class="va">covars</span> <span class="op">&lt;-</span> <span class="va">computvocv</span><span class="op">$</span><span class="va">zcov</span>
  <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">covars</span><span class="op">)</span></code></pre></div>
<pre><code>&gt;            [,1]         [,2]        [,3]         [,4]         [,5]
&gt; [1,] 0.04761905 0.0003351688 0.002138113 -0.010579071 -0.013761771
&gt; [2,] 0.04166667 0.0002979278 0.001900545 -0.009403618 -0.012232685
&gt; [3,] 0.03703704 0.0002681350 0.001710490 -0.008463256 -0.011009417
&gt; [4,] 0.09090909 0.0005745750 0.003665336 -0.018135549 -0.023591607
&gt; [5,] 0.02380952 0.0001787567 0.001140327 -0.005642171 -0.007339611
&gt; [6,] 0.04761905 0.0003351688 0.002138113 -0.010579071 -0.013761771
&gt;               [,6]       [,7]        [,8]       [,9]       [,10]        [,11]
&gt; [1,] -0.0011673589 0.04761905 0.003998742 0.02506561 0.002305253 -0.013540829
&gt; [2,] -0.0010376523 0.04166667 0.003554437 0.02228054 0.002049114 -0.012036292
&gt; [3,] -0.0009338871 0.03703704 0.003198993 0.02005248 0.001844203 -0.010832663
&gt; [4,] -0.0020011867 0.09090909 0.006854986 0.04296961 0.003951863 -0.023212849
&gt; [5,] -0.0006225914 0.02380952 0.002132662 0.01336832 0.001229468 -0.007221775
&gt; [6,] -0.0011673589 0.04761905 0.003998742 0.02506561 0.002305253 -0.013540829
&gt;           [,12]       [,13]      [,14]        [,15]      [,16]       [,17]
&gt; [1,] 0.04761905 0.001963746 0.02512404 -0.010480026 0.04761905 0.005879878
&gt; [2,] 0.04166667 0.001745552 0.02233248 -0.009315578 0.04166667 0.005226558
&gt; [3,] 0.03703704 0.001570997 0.02009923 -0.008384021 0.03703704 0.004703902
&gt; [4,] 0.09090909 0.003366422 0.04306978 -0.017965758 0.09090909 0.010079791
&gt; [5,] 0.02380952 0.001047331 0.01339949 -0.005589347 0.02380952 0.003135935
&gt; [6,] 0.04761905 0.001963746 0.02512404 -0.010480026 0.04761905 0.005879878
&gt;              [,18]      [,19]        [,20]      [,21]
&gt; [1,] -0.0017802532 0.04761905 -0.002948570 0.04761905
&gt; [2,] -0.0015824473 0.04166667 -0.002620951 0.04166667
&gt; [3,] -0.0014242026 0.03703704 -0.002358856 0.03703704
&gt; [4,] -0.0030518626 0.09090909 -0.005054692 0.09090909
&gt; [5,] -0.0009494684 0.02380952 -0.001572571 0.02380952
&gt; [6,] -0.0017802532 0.04761905 -0.002948570 0.04761905</code></pre>
</div>
<div id="correlation" class="section level2">
<h2 class="hasAnchor">
<a href="#correlation" class="anchor"></a>Correlation</h2>
</div>
<div id="references" class="section level2 unnumbered">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
<div id="refs" class="references">
<div id="ref-MetaAnalysis">
<p>Dewey, Michael. 2021. <em>CRAN Task View: Meta-Analysis</em>. manual. <a href="https://cran.r-project.org/web/views/MetaAnalysis.html">https://cran.r-project.org/web/views/MetaAnalysis.html</a>.</p>
</div>
<div id="ref-metavcovR">
<p>Lu, Min. 2021. <em>Variance-Covariance Matrix for Multivariate Meta-Analysis with R Package metavcov</em>. manual. <a href="https://doi.org/https://doi.org/10.5281/zenodo.5240826">https://doi.org/https://doi.org/10.5281/zenodo.5240826</a>.</p>
</div>
<div id="ref-Rbase">
<p>R Core Team. 2020. <em>R: A Language and Environment for Statistical Computing</em>. Vienna, Austria: R Foundation for Statistical Computing. <a href="https://www.R-project.org/">https://www.R-project.org/</a>.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://luminwin.github.io/Lu/articles/cv.html">Min Lu</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
